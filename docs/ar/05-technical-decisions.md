<div align="center" dir="rtl">

# ๐ง 05 - ุงููุฑุงุฑุงุช ุงูุชูููุฉ

<img src="https://readme-typing-svg.demolab.com?font=Fira+Code&size=20&duration=3000&pause=1000&color=1EB8E4&center=true&vCenter=true&width=500&lines=Architecture+Decision+Records;Design+Rationale;Trade-off+Analysis" alt="Typing"/>

> **ุณุฌูุงุช ูุฑุงุฑุงุช ุงููุนูุงุฑูุฉ (ADRs) ุชูุซู ุงูุฎูุงุฑุงุช ุงูุชูููุฉ ุงูุฑุฆูุณูุฉ**

<br/>

[![Prev](https://img.shields.io/badge/%E2%86%90_%D8%A7%D9%84%D9%85%D9%8A%D8%B2%D8%A7%D8%AA_%D8%A7%D9%84%D8%A3%D8%B3%D8%A7%D8%B3%D9%8A%D8%A9-1eb8e4)](04-key-features.md)
[![Next](https://img.shields.io/badge/%D8%A7%D9%84%D8%AA%D8%AD%D8%AF%D9%8A%D8%A7%D8%AA_%E2%86%92-7565e3)](06-challenges-solutions.md)

</div>

<div align="center">
<img width="600" src="https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/rainbow.png"/>
</div>

<div dir="rtl">

---

## ๐ ููุฑุณ ุงููุฑุงุฑุงุช (ADR Index)

| ุงููุนุฑู | ุงููุฑุงุฑ | ุงูุญุงูุฉ |
|:--:|:---------|:------:|
| ADR-001 | ุงุณุชุฎุฏุงู CSS 3D ุจุฏูุงู ูู WebGL ุฅุถุงูู | โ ููุจูู |
| ADR-002 | Web Workers ูุฌุณููุงุช ุงููุฌุฑุฉ | โ ููุจูู |
| ADR-003 | ูุตุงุฏูุฉ "ูุฌููู ุฃููุงู" | โ ููุจูู |
| ADR-004 | ุชูุถูู MongoDB ุนูู ุงูุจุฏุงุฆู | โ ููุจูู |
| ADR-005 | LazyMotion ูุชุญุณูู ุงูุฃููููุดู | โ ููุจูู |

---

## ๐ ADR-001: ุงุณุชุฎุฏุงู CSS 3D ููู BlueprintHouse

### ุงูุณูุงู (Context)
ุงูุญุงุฌุฉ ููุคุดุฑ ุชูุฏู ุจุตุฑู. ุงูุฎูุงุฑุงุช: WebGL (Three.js) ุฃู ุชุญูููุงุช CSS 3D.

### ุงููุฑุงุฑ (Decision)
**ุงุณุชุฎุฏุงู CSS 3D** (`transform-style: preserve-3d`)

### ุงููุจุฑุฑุงุช (Rationale)

| ุงูุนุงูู | CSS 3D | Three.js |
|:-------|:------:|:--------:|
| ุญูู ุงูู Main thread | โ ุถุฆูู | โ ุซููู |
| ุชูุงูู ุงูุฃุฌูุฒุฉ | โ ุนุงููู | โ๏ธ ูุชุทูุจ WebGL |
| ุงูุชูููุฐ | โ๏ธ ูุชูุณุท | โ ูุนูุฏ |
| ุงูุฌูุฏุฉ ุงูุจุตุฑูุฉ | โ ูุงููุฉ | โ ูุชูููุฉ |

### ุงูุนูุงูุจ (Consequences)
- โ ุณูุงู WebGL ูุงุญุฏ (ูููุฌุฑุฉ ููุท)
- โ ุฏุนู ุฃูุถู ููุฃุฌูุฒุฉ ุงูุถุนููุฉ
- โ๏ธ ูุญุฏูุฏ ุจุฃุดูุงู ููุฏุณูุฉ ุฃุจุณุท

---

## โก ADR-002: ุงุณุชุฎุฏุงู Web Workers ููุฌุณููุงุช

### ุงูุณูุงู
ุชูููุฏ ููุงูุน 100,000 ุฌุณูู ูุญุฌุจ ุงูู main thread ููุฏุฉ 14 ุซุงููุฉ ุนูู ุงูููุจุงูู.

### ุงููุฑุงุฑ
**ุชูุฑูุบ ุญุณุงุจุงุช ุงูุฌุณููุงุช ุฅูู Web Worker**

### ุงูุชูููุฐ
```typescript
// Main thread
const worker = new Worker(new URL("./galaxy.worker.ts", import.meta.url));
worker.postMessage(params);
worker.onmessage = (e) => updateBufferAttribute(e.data);

// Worker thread
self.onmessage = (e) => {
  const positions = generateParticles(e.data);
  self.postMessage(positions, [positions.buffer]); // Zero-copy transfer
};
```

### ุงูุนูุงูุจ
- โ ุชูููู TBT ุจูุณุจุฉ 82% (14s โ 2.5s)
- โ๏ธ ุฅุถุงูุฉ ุชุนููุฏ ุบูุฑ ูุชุฒุงูู (Async complexity)
- โ๏ธ ุงูุญุงุฌุฉ ูุฅุนุฏุงุฏ ุชุฌููุน ุงูู Worker

---

## ๐ ADR-003: ูุตุงุฏูุฉ "ูุฌููู ุฃููุงู"

### ุงูุณูุงู
ุงูููุตุงุช ุงูุชูููุฏูุฉ ุชุชุทูุจ ุงูุชุณุฌูู ูุจู ุงูุงุณุชุฎุฏุงูุ ููุง ูุฎูู ุงุญุชูุงูุงู.

### ุงููุฑุงุฑ
**ูุตูู ูุงูู ุฏูู ุชุณุฌูู**ุ ุจุงุณุชุฎุฏุงู ุฌูุณุงุช ูุฌูููุฉ ุชุนุชูุฏ ุนูู UUID ูุน ุฎูุงุฑ OAuth.

### ุงูุชุฏูู (Flow)
```
ุฃูู ุฒูุงุฑุฉ โ ุชูููุฏ UUID โ ูุตูู ูุงูู (localStorage)
     โ
ุงุฎุชูุงุฑู: Google OAuth โ ุฏูุฌ ุซูุงุซู โ ุชูุนูู ุงููุฒุงููุฉ ุงูุณุญุงุจูุฉ
```

### ุงุณุชุฑุงุชูุฌูุฉ ุงูุฏูุฌ ุงูุซูุงุซู (3-Way Merge Strategy)

| ููุน ุงูุจูุงูุงุช | ุงุณุชุฑุงุชูุฌูุฉ ุงูุฏูุฌ |
|:----------|:---------------|
| ุงูุฏุฑูุณ ุงูููุชููุฉ | ุงูุงุชุญุงุฏ (Union โช) |
| ุฏุฑุฌุงุช ุงูุงุฎุชุจุงุฑ | ุงูุญุฏ ุงูุฃูุตู (Maximum) |
| ุงูุทูุงุจุน ุงูุฒูููุฉ | ุงูุฃุญุฏุซ (Latest) |

### ุงูุนูุงูุจ
- โ ุฏุฎูู ุจูุง ุงุญุชูุงู (Zero-friction)
- โ ุนุฏู ุถูุงุน ุงูุชูุฏู ุนูุฏ ุงูุชุณุฌูู
- โ๏ธ ููุทู ูุฒุงููุฉ ุฃูุซุฑ ุชุนููุฏุงู

---

## ๐ ADR-004: ุชูุถูู MongoDB ุนูู ุงูุจุฏุงุฆู

### ุงูุณูุงู
ุงูุญุงุฌุฉ ูุชุฎุฒูู ุฏุงุฆู ูุชูุฏู ุงููุณุชุฎุฏู.

### ุงูุจุฏุงุฆู ุงูุชู ุชู ุงููุธุฑ ูููุง

| ุงูุฎูุงุฑ | ุงููุฒุงูุง | ุงูุนููุจ |
|:-------|:-----|:-----|
| Firebase | ูุตุงุฏูุฉ ุณููุฉ | ุงูุบูุงู ุงูููุฑุฏ (Vendor lock-in) |
| PostgreSQL | ุนูุงุฆูู | ุฌููุฏ ุงููุฎุทุท (Schema rigidity) |
| **MongoDB** | ูุฎุทุท ูุฑู | ูุชุทูุจ ุชุฌููุน ุงุชุตุงูุงุช (Pooling) |

### ุงููุฑุงุฑ
**MongoDB Atlas (serverless tier)**

### ุงูุนูุงูุจ
- โ ูุฎุทุท ูุฑู ููุจูุงูุงุช ุงููุชุทูุฑุฉ
- โ ุนูููุงุช JSON ุฃุตููุฉ
- โ ุทุจูุฉ ูุฌุงููุฉ ุณุฎูุฉ
- โ๏ธ ูุชุทูุจ ุชุฌููุน ุงุชุตุงูุงุช (Singleton Connection Pooling)

---

## ๐ฌ ADR-005: ุชุญุณูู LazyMotion

### ุงูุณูุงู
Framer Motion ูุถูู ูุฒุฏุงู ูุจูุฑุงู ููุญุฒูุฉ (~30KB).

### ุงููุฑุงุฑ
**ุงุณุชุฎุฏุงู LazyMotion ูุน ููุฒุงุช domAnimation** ูููููุงุช `m`.

### ุงูุชูููุฐ
```typescript
// app/layout.tsx
<LazyMotion features={domAnimation} strict>
  {children}
</LazyMotion>

// Components use `m` instead of `motion`
import { m } from "framer-motion";
<m.div animate={{ opacity: 1 }} />
```

### ุงูุนูุงูุจ
- โ ุชูููู ุญุฌู ุงูุญุฒูุฉ
- โ ุชูุนูู Tree-shaking
- โ๏ธ ูุฌุจ ุงุณุชุฎุฏุงู `m` ุจุงุณุชูุฑุงุฑ

---

<div align="center">
<img width="600" src="https://raw.githubusercontent.com/andreasbm/readme/master/assets/lines/rainbow.png"/>
</div>

## ๐ ูุซุงุฆู ุฐุงุช ุตูุฉ

<div align="center">

| ุงูุชููู |
|:----------:|
| [โจ โ ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ](04-key-features.md) |
| [๐ก ุงูุชุญุฏูุงุช ูุงูุญููู โ](06-challenges-solutions.md) |

</div>

<div align="center">

---

*ุงูุชุงูู: [06 - ุงูุชุญุฏูุงุช ูุงูุญููู](06-challenges-solutions.md)*

</div>

</div>
